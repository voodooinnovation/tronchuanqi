unit MessageUnit;

interface
const
  BUFFERSIZE = 12000;//缓冲长度
  DEFBLOCKSIZE = 16;

  DR_UP = 0;
  DR_UPRIGHT = 1;
  DR_RIGHT = 2;
  DR_DOWNRIGHT = 3;
  DR_DOWN = 4;
  DR_DOWNLEFT = 5;
  DR_LEFT = 6;
  DR_UPLEFT = 7;
  
  U_DRESS = 0;
  U_WEAPON = 1;
  U_RIGHTHAND = 2;
  U_NECKLACE = 3;
  U_HELMET = 4; //头盔
  U_ARMRINGL = 5;
  U_ARMRINGR = 6;
  U_RINGL = 7;
  U_RINGR = 8;
  U_BUJUK = 9; //符
  U_BELT = 10; //腰带
  U_BOOTS = 11; //鞋
  U_CHARM = 12;

  SM_HORSERUN = 5;
  SM_RUSH = 6; //野蛮
  SM_RUSHKUNG = 7; //
  SM_FIREHIT = 8; //烈火
  SM_BACKSTEP = 9;
  SM_TURN = 10; //转向
  SM_WALK = 11; //走
  SM_SITDOWN = 12;//挖
  SM_RUN = 13; //跑
  SM_HIT = 14; //砍
  SM_HEAVYHIT = 15; //重击
  SM_BIGHIT = 16; //
  SM_SPELL = 17; //使用魔法
  SM_POWERHIT = 18;
  SM_LONGHIT = 19; //刺杀
  SM_DIGUP = 20;
  SM_DIGDOWN = 21;
  SM_FLYAXE = 22;
  SM_LIGHTING = 23;
  SM_WIDEHIT = 24;
  SM_CRSHIT = 25;
  SM_TWINHIT = 26;
  SM_ALIVE = 27;
  SM_MOVEFAIL = 28; //
  SM_HIDE = 29; //
  SM_DISAPPEAR = 30;
  SM_STRUCK = 31; //弯腰
  SM_DEATH = 32;
  SM_SKELETON = 33;
  SM_NOWDEATH = 34;
  SM_HEAR = 40;
  SM_FEATURECHANGED = 41;
  SM_USERNAME = 42;
  SM_WINEXP = 44;
  SM_LEVELUP = 45;
  SM_DAYCHANGING = 46;

  SM_LOGON = 50;
  SM_NEWMAP = 51;
  SM_ABILITY = 52;
  SM_HEALTHSPELLCHANGED = 53;
  SM_MAPDESCRIPTION = 54;
  SM_GAMEGOLDNAME = 55; //游戏币名称
  
  SM_ACTION_MIN = SM_RUSH;
  SM_ACTION_MAX = SM_WIDEHIT;
  SM_ACTION2_MIN = 65072;
  SM_ACTION2_MAX = 65073;
  
  RC_PLAYOBJECT = 0;
  RC_DUMMOBJECT = 1; //假人
  RC_MOONOBJECT = 60; //月灵
  RC_HEROOBJECT = 66; //英雄
  RC_GUARD = 11; //大刀守卫
  RC_ARCHERGUARD = 112;
  RC_PEACENPC = 15;
  RC_ANIMAL = 50;
  RC_MONSTER = 80;
  RC_NPC = 10;
  RC_PLAYMOSTER = 150; //人形怪物

  RCC_USERHUMAN = RC_PLAYOBJECT;
  RCC_GUARD = RC_GUARD;
  RCC_MERCHANT = RC_ANIMAL;

  CM_QUERYUSERNAME = 80;
  CM_QUERYBAGITEMS = 81;
  CM_QUERYUSERSTATE = 82;


  CM_QUERYCHR = 100;//查询角色
  CM_NEWCHR = 101; //新建角色
  CM_DELCHR = 102; //删除角色
  CM_SELCHR = 103;//选择角色
  CM_QUERYDELCHR = 105;//查询被删除的角色
  CM_RESTORECHR = 106;//恢复角色

  CM_SELECTSERVER = 104;//选择服务器

  CM_QUERYSERVERNAME = 107; //查询服务器列表
  CM_QUERYRANDOMCODE = 108; //查询验证码
  CM_SENDRANDOMCODE = 109; //验证验证码

  SM_SYSMESSAGE = 100;//系统消息
  SM_GROUPMESSAGE = 101; //队伍说话
  SM_CRY = 102;
  SM_WHISPER = 103;//密人
  SM_GUILDMESSAGE = 104;//行会聊天
  SM_MOVEMESSAGE = 105;

  SM_ADDITEM = 200;
  SM_BAGITEMS = 201;
  SM_DELITEM = 202;
  SM_UPDATEITEM = 203;
  SM_UPDATEITEM2 = 204;
  SM_ADDMAGIC = 210;
  SM_SENDMYMAGIC = 211;
  SM_DELMAGIC = 212;

  SM_60HIT = 60;
  SM_61HIT = 61;
  SM_62HIT = 62;
  SM_63HIT = 63;
  SM_64HIT = 64;
  SM_65HIT = 65;
  SM_66HIT = 66;
  SM_67HIT = 67;
  SM_68HIT = 68;
  SM_69HIT = 69;
  SM_70HIT = 70;
  SM_PKHIT = SM_66HIT;
  SM_KTHIT = SM_67HIT;
  SM_ZRJFHIT = SM_68HIT; //逐日剑法  
  SM_SUPERFIREHIT = SM_70HIT; //4级烈火
  SM_100HIT = 300; //三绝杀
  SM_101HIT = 301; //追心刺
  SM_102HIT = 302; //断岳斩
  SM_103HIT = 303; //横扫千军

  SM_PASSWD_FAIL = 503;
  SM_NEWID_SUCCESS = 504;
  SM_NEWID_FAIL = 505;
  SM_CHGPASSWD_SUCCESS = 506;
  SM_CHGPASSWD_FAIL = 507;
  SM_QUERYCHR = 520;
  SM_NEWCHR_SUCCESS = 521;
  SM_NEWCHR_FAIL = 522;
  SM_DELCHR_SUCCESS = 523;
  SM_DELCHR_FAIL = 524;
  SM_STARTPLAY = 525;
  SM_STARTFAIL = 526; //SM_USERFULL
  SM_QUERYCHR_FAIL = 527;
  SM_OUTOFCONNECTION = 528;   
  SM_PASSOK_SELECTSERVER = 529;
  SM_SELECTSERVER_OK = 530;
  SM_NEEDUPDATE_ACCOUNT = 531;
  SM_UPDATEID_SUCCESS = 532;
  SM_UPDATEID_FAIL = 533;
  SM_FINDDELCHR = 534;
  SM_FINDDELCHR_SUCCESS = 535;
  SM_FINDDELCHR_FAIL = 536;
  SM_SERVERNAME = 537; //服务器列表
  SM_SENDRANDOMCODE = 538; //发送验证码

  SM_DROPITEM_SUCCESS = 600;
  SM_DROPITEM_FAIL = 601;

  SM_ITEMSHOW = 610;
  SM_ITEMHIDE = 611;
  SM_OPENDOOR_OK = 612; 
  SM_OPENDOOR_LOCK = 613;
  SM_CLOSEDOOR = 614;
  SM_TAKEON_OK = 615;
  SM_TAKEON_FAIL = 616;
  SM_TAKEOFF_OK = 619;
  SM_TAKEOFF_FAIL = 620;
  SM_SENDUSEITEMS = 621;
  SM_WEIGHTCHANGED = 622;
  SM_CLEAROBJECTS = 633;
  SM_CHANGEMAP = 634;//过地图
  SM_EAT_OK = 635;
  SM_EAT_FAIL = 636;
  SM_BUTCH = 637;
  SM_MAGICFIRE = 638;
  SM_MAGICFIRE_FAIL = 639;
  SM_MAGIC_LVEXP = 640;
  SM_DURACHANGE = 642;
  SM_MERCHANTSAY = 643;
  SM_MERCHANTDLGCLOSE = 644;
  SM_SENDGOODSLIST = 645;
  SM_SENDUSERSELL = 646;
  SM_SENDBUYPRICE = 647;
  SM_USERSELLITEM_OK = 648;
  SM_USERSELLITEM_FAIL = 649;
  SM_BUYITEM_SUCCESS = 650; //?
  SM_BUYITEM_FAIL = 651; //?
  SM_SENDDETAILGOODSLIST = 652;
  SM_GOLDCHANGED = 653;
  SM_CHANGELIGHT = 654;
  SM_LAMPCHANGEDURA = 655;
  SM_CHANGENAMECOLOR = 656;
  SM_CHARSTATUSCHANGED = 657;
  SM_SENDNOTICE = 658;
  SM_GROUPMODECHANGED = 659; //
  SM_CREATEGROUP_OK = 660;
  SM_CREATEGROUP_FAIL = 661;
  SM_GROUPADDMEM_OK = 662;
  SM_GROUPDELMEM_OK = 663;
  SM_GROUPADDMEM_FAIL = 664;
  SM_GROUPDELMEM_FAIL = 665;
  SM_GROUPCANCEL = 666;
  SM_GROUPMEMBERS = 667;
  SM_SENDUSERREPAIR = 668;
  SM_USERREPAIRITEM_OK = 669;
  SM_USERREPAIRITEM_FAIL = 670;
  SM_SENDREPAIRCOST = 671;
  SM_DEALMENU = 673;
  SM_DEALTRY_FAIL = 674;
  SM_DEALADDITEM_OK = 675;
  SM_DEALADDITEM_FAIL = 676;
  SM_DEALDELITEM_OK = 677;
  SM_DEALDELITEM_FAIL = 678;
  SM_DEALCANCEL = 681;
  SM_DEALREMOTEADDITEM = 682;
  SM_DEALREMOTEDELITEM = 683;
  SM_DEALCHGGOLD_OK = 684;
  SM_DEALCHGGOLD_FAIL = 685;
  SM_DEALREMOTECHGGOLD = 686;
  SM_DEALSUCCESS = 687;
  SM_SENDUSERSTORAGEITEM = 700;
  SM_STORAGE_OK = 701;//
  SM_STORAGE_FULL = 702;
  SM_STORAGE_FAIL = 703;
  SM_SAVEITEMLIST = 704;
  SM_TAKEBACKSTORAGEITEM_OK = 705;
  SM_TAKEBACKSTORAGEITEM_FULLBAG = 707;
  SM_TAKEBACKSTORAGEITEM_FAIL = 706;
  SM_AREASTATE = 708;
  SM_DELITEMS = 709;
  SM_MYSTATUS = 766;
  SM_READMINIMAP_OK = 710;
  SM_READMINIMAP_FAIL = 711;
  SM_SENDUSERMAKEDRUGITEMLIST = 712;
  SM_MAKEDRUG_SUCCESS = 713;
  SM_716 = 716;
  SM_717 = 717;

  SM_CHANGEGUILDNAME = 750;
  SM_SENDUSERSTATE = 751; //
  SM_SUBABILITY = 752;
  SM_OPENGUILDDLG = 753; //
  SM_OPENGUILDDLG_FAIL = 754; //
  SM_SENDGUILDMEMBERLIST = 756; //
  SM_GUILDADDMEMBER_OK = 757; //
  SM_GUILDADDMEMBER_FAIL = 758;
  SM_GUILDDELMEMBER_OK = 759;
  SM_GUILDDELMEMBER_FAIL = 760;
  SM_GUILDRANKUPDATE_FAIL = 761;
  SM_BUILDGUILD_OK = 762;
  SM_BUILDGUILD_FAIL = 763;
  SM_DONATE_OK = 764;
  SM_DONATE_FAIL = 765;

  SM_MENU_OK = 767; //?
  SM_GUILDMAKEALLY_OK = 768;
  SM_GUILDMAKEALLY_FAIL = 769;
  SM_GUILDBREAKALLY_OK = 770; //?
  SM_GUILDBREAKALLY_FAIL = 771; //?
  SM_DLGMSG = 772; //Jacky
  SM_SPACEMOVE_HIDE = 800;
  SM_SPACEMOVE_SHOW = 801;
  SM_RECONNECT = 802;
  SM_GHOST = 803;
  SM_SHOWEVENT = 804;
  SM_HIDEEVENT = 805;
  SM_SPACEMOVE_HIDE2 = 806;
  SM_SPACEMOVE_SHOW2 = 807;
  SM_TIMECHECK_MSG = 810;
  SM_ADJUST_BONUS = 811; //

  SM_CHANGEFACE = 1104;

  SM_OPENHEALTH = 1100;
  SM_CLOSEHEALTH = 1101;
  SM_BREAKWEAPON = 1102;
  SM_INSTANCEHEALGUAGE = 1103; //
  SM_PASSWORD = 3030;

  CM_DROPITEM = 1000;//丢物品
  CM_PICKUP = 1001;//拣物品
  CM_OPENDOOR = 1002;
  CM_TAKEONITEM = 1003;//装备物品
  CM_TAKEOFFITEM = 1004;

  CM_EAT = 1006;//吃
  CM_BUTCH = 1007;
  CM_MAGICKEYCHANGE = 1008;//技能设置改变
  
  CM_SOFTCLOSE = 1009;
  CM_CLICKNPC = 1010;//摆摊点击
  CM_MERCHANTDLGSELECT = 1011;//商品选择
  CM_MERCHANTQUERYSELLPRICE = 1012;
  CM_USERSELLITEM = 1013;//卖物品
  CM_USERBUYITEM = 1014;//买物品
  CM_USERGETDETAILITEM = 1015;//得到商品信息
  CM_DROPGOLD = 1016;//丢金币
  CM_LOGINNOTICEOK = 1018;

  CM_GROUPMODE = 1019;//组队模式
  CM_CREATEGROUP = 1020;//建立队伍
  CM_ADDGROUPMEMBER = 1021;//增加队员
  CM_DELGROUPMEMBER = 1022;//删除队员
  CM_USERREPAIRITEM = 1023;//修理物品
  CM_MERCHANTQUERYREPAIRCOST = 1024;
  CM_DEALTRY = 1025;
  CM_DEALADDITEM = 1026;
  CM_DEALDELITEM = 1027;
  CM_DEALCANCEL = 1028;
  CM_DEALCHGGOLD = 1029;
  CM_DEALEND = 1030;
  CM_USERSTORAGEITEM = 1031;//存放仓库
  CM_USERTAKEBACKSTORAGEITEM = 1032;//取回仓库
  CM_WANTMINIMAP = 1033;//开小地图
  CM_USERMAKEDRUGITEM = 1034;//制毒
  CM_OPENGUILDDLG = 1035;//打开行会对话框
  CM_GUILDHOME = 1036;//行会主页
  CM_GUILDMEMBERLIST = 1037;//行会成员列表
  CM_GUILDADDMEMBER = 1038;//增加成员
  CM_GUILDDELMEMBER = 1039;//删除成员
  CM_GUILDUPDATENOTICE = 1040;//更新公告
  CM_GUILDUPDATERANKINFO = 1041; //更新标识
  CM_ADJUST_BONUS = 1043;//属性点
  CM_PASSWORD = 1105;
  SM_PLAYDICE = 1200;

  CM_SPEEDHACKUSER = 10430; //速度检测

  CM_IDPASSWORD = 2001;//用户密码
  CM_ADDNEWUSER = 2002;//添加新用户
  CM_CHANGEPASSWORD = 2003;//修改密码
  CM_UPDATEUSER = 2004;//刷新用户信息
  CM_RANDOMCODE = 2006;//验证码
  SM_RANDOMCODE = 2007;

  CM_HORSERUN = 3009;

  CM_THROW = 3005;

  CM_TURN = 3010;
  CM_WALK = 3011;
  CM_SITDOWN = 3012;
  CM_RUN = 3013;
  CM_HIT = 3014;
  CM_HEAVYHIT = 3015;
  CM_BIGHIT = 3016;

  CM_SPELL = 3017;
  CM_POWERHIT = 3018;//功杀
  CM_LONGHIT = 3019;//刺杀

  CM_WIDEHIT = 3024; //半月
  CM_FIREHIT = 3025; //烈火


  CM_SAY = 3030;

  CM_CRSHIT = 3036; //抱月刀
  CM_TWNHIT = 3037; //狂风斩
  CM_TWINHIT = CM_TWNHIT;
  
  CM_60HIT = 3060;

  CM_PKHIT = 3066; //破空剑
  CM_KTHIT = 3067; //开天斩
  CM_ZRJFHIT = 3068; //逐日剑法

  CM_100HIT = 3300; //三绝杀
  CM_101HIT = 3301; //追心刺
  CM_102HIT = 3302; //断岳斩
  CM_103HIT = 3303; //横扫千军

  RM_10401 = 10401;

  STATE_STONE_MODE = 1;
  RM_MENU_OK = 10309;
  RM_MERCHANTDLGCLOSE = 10127;
  RM_SENDDELITEMLIST = 10148;
  RM_SENDUSERSREPAIR = 10141;
  RM_SENDGOODSLIST = 10128;
  RM_SENDUSERSELL = 10129;
  RM_SENDUSERREPAIR = 11139;
  RM_USERMAKEDRUGITEMLIST = 10149;
  RM_USERSTORAGEITEM = 10146;
  RM_USERGETBACKITEM = 10147;

  RM_USERBIGSTORAGEITEM = 20146;
  RM_USERBIGGETBACKITEM = 20147;
  RM_USERLEVELORDER = 20148;

  RM_SPACEMOVE_FIRE2 = 11330;
  RM_SPACEMOVE_FIRE = 11331;

  RM_BUYITEM_SUCCESS = 10133;
  RM_BUYITEM_FAIL = 10134;
  RM_SENDDETAILGOODSLIST = 10135;
  RM_SENDBUYPRICE = 10130;
  RM_USERSELLITEM_OK = 10131;
  RM_USERSELLITEM_FAIL = 10132;
  RM_MAKEDRUG_SUCCESS = 10150;
  RM_MAKEDRUG_FAIL = 10151;
  RM_SENDREPAIRCOST = 10142;
  RM_USERREPAIRITEM_OK = 10143;
  RM_USERREPAIRITEM_FAIL = 10144;

  MAXBAGITEM = 46;
  MAXHEROBAGITEM = 40; //英雄包裹
  RM_10155 = 10155;
  RM_PLAYDICE = 10500;
  RM_ADJUST_BONUS = 10400;

  RM_BUILDGUILD_OK = 10303;
  RM_BUILDGUILD_FAIL = 10304;
  RM_DONATE_OK = 10305;

  RM_GAMEGOLDCHANGED = 10666;

  STATE_OPENHEATH = 1;
  POISON_68 = 68;

  RM_MYSTATUS = 10777;

  CM_QUERYUSERSET = 49999;

  CM_1017 = 1017;
  CM_1042 = 1042;
  CM_GUILDALLY = 1044;
  CM_GUILDBREAKALLY = 1045;

  RM_HORSERUN = 11000;
  RM_HEAVYHIT = 10005;
  RM_BIGHIT = 10006;
  RM_MOVEFAIL = 10010;
  RM_CRSHIT = 11014;
  RM_RUSHKUNG = 11015;

  CM_DUELTRY = 4078;
  CM_DUELADDITEM = 4079;//挑战物品
  CM_DUELDELITEM = 4080;//取消挑战物品
  CM_DUELCANCEL = 4081;//取消挑战
  CM_DUELCHGGOLD = 4082;//挑战金币改变
  CM_DUELEND = 4083;//挑战结束

  CM_ONHORSE = 5059;//骑马

   //排行榜
  CM_GETRANKING = 5131;
  CM_GETMYRANKING = 5132;
  SM_SENGRANKING = 5133;
  SM_SENGMYRANKING_FAIL = 5134;

  CM_HEROLOGON = 5135; //召唤英雄
  CM_HEROLOGOUT = 5136; //英雄退出

  CM_MASTERBAGTOHEROBAG = 5137; //主人包裹物品放到英雄包裹
  CM_HEROBAGTOMASTERBAG = 5138; //英雄包裹物品放到主人包裹

  CM_HEROTAKEONITEM = 5139; //英雄穿装备
  CM_HEROTAKEOFFITEM = 5140; //英雄脱装备

  CM_HEROTAKEONITEMFROMMASTER = 5141; //英雄穿装备从主人
  CM_HEROTAKEOFFITEMTOMASTER = 5142; //英雄脱装备到主人
  CM_TAKEONITEMFROMHERO = 5143; //主人穿装备从英雄包裹
  CM_TAKEOFFITEMTOHERO = 5144; //主人脱装备到英雄包裹

  CM_HEROEAT = 5145; //英雄吃药
  CM_HEROTARGET = 5146; //锁定//Ident: 1105 Recog: 260806992 Param: 0 Tag: 32 Series: 0   Recog= 锁定对象   Param=X  Tag=Y
  CM_HERODROPITEM = 5147; //英雄扔物品
  CM_HEROGROUPATTACK = 5148; //合击
  CM_HEROMAGICKEYCHANGE = 5149;//英雄技能按键改变


  
  SM_TAKEONITEM = 5199; //人物穿戴装备
  SM_TAKEOFFITEM = 5200; //人物脱掉装备
  SM_HEROTAKEONITEM = 5201;  //英雄穿戴装备
  SM_HEROTAKEOFFITEM = 5202; //英雄脱掉装备
  CM_HEROPROTECT = 5204; //英雄守护
  CM_DOMAINNAME = 5205; //注册域名信息


  CM_HEROLOGON_OK = 5203;
  SM_MASTERBAGTOHEROBAG_OK = 5150; //主人包裹物品放到英雄包裹成功
  SM_MASTERBAGTOHEROBAG_FAIL = 5151; //主人包裹物品放到英雄包裹失败

  SM_HEROBAGTOMASTERBAG_OK = 5152; //英雄包裹物品放到主人包裹成功
  SM_HEROBAGTOMASTERBAG_FAIL = 5153; //英雄包裹物品放到主人包裹失败

  SM_HEROTAKEONITEMFROMMASTER_OK = 5154; //英雄穿装备从主人  成功
  SM_HEROTAKEONITEMFROMMASTER_FAIL = 5155; //英雄穿装备从主人 失败
  SM_HEROTAKEOFFITEMTOMASTER_OK = 5156; //英雄脱装备到主人   成功
  SM_HEROTAKEOFFITEMTOMASTER_FAIL = 5157; //英雄脱装备到主人  失败

  SM_TAKEONITEMFROMHERO_OK = 5158; //主人穿装备从英雄包裹   成功
  SM_TAKEONITEMFROMHERO_FAIL = 5159; //主人穿装备从英雄包裹 失败
  SM_TAKEOFFITEMTOHERO_OK = 5160; //主人脱装备到英雄包裹    成功
  SM_TAKEOFFITEMTOHERO_FAIL = 5161; //主人脱装备到英雄包裹  失败
  SM_HEROBAGCOUNT = 5162; //英雄包裹数量
  SM_HEROLOGOUT = 5163; //获取英雄 TMessageBodyWL 产生英雄退出效果
  SM_HEROLOGON = 5164; //获取英雄 TMessageBodyWL 产生英雄登陆效果
  SM_HEROABILITY = 5167; //获取英雄Abil
  SM_HEROSUBABILITY = 5168; //英雄SUBABILITY
  SM_HEROBAGITEMS = 5169; //获取英雄包裹     Tag:包裹物品数量 2 Series: 包裹总数量10
  SM_SENDHEROUSEITEMS = 5170; //获取英雄身上装备
  SM_SENDMYHEROMAGIC = 5171; //获取英雄魔法
  SM_HEROADDITEM = 5172; //英雄 Ident: 905 Recog: 738569296 Param: 0 Tag: 0 Series: 1   AddItem
  SM_HERODELITEM = 5173; //英雄 Ident: 906 Recog: 738569296 Param: 0 Tag: 0 Series: 1   delItem
  SM_HEROTAKEON_OK = 5174; //英雄穿装备OK Ident: 907 Recog: 742933632 Param: 0 Tag: 0 Series: 0
  SM_HEROTAKEON_FAIL = 5175; //英雄穿装备FAIL
  SM_HEROTAKEOFF_OK = 5176; //英雄脱装备OK
  SM_HEROTAKEOFF_FAIL = 5177; //英雄脱装备FAIL
  SM_HEROEAT_OK = 5178; //英雄吃药OK
  SM_HEROEAT_FAIL = 5179; //英雄吃药FAIL
  SM_HEROADDMAGIC = 5180; //英雄增加魔法
  SM_HERODELMAGIC = 5181; //英雄删除魔法
  SM_HEROANGERVALUE = 5182; //英雄怒值改变 Ident: 916 Recog: 5 Param: 2 Tag: 102 Series: 0
  SM_HEROLOGON_OK = 5183; // 英雄登陆OK
  SM_HEROLOGOUT_OK = 5184; // 英雄退出OK
  SM_HERODURACHANGE = 5185; //英雄物品持久改变
  SM_HERODROPITEM_SUCCESS = 5186; //英雄扔物品OK
  SM_HERODROPITEM_FAIL = 5187; //英雄扔物品FAIL
  SM_HEROLEVELUP = 5188; //英雄升级
  SM_HEROWINEXP = 5189; //英雄获取经验
  SM_HEROWEIGHTCHANGED = 5190;
  SM_HEROMAGIC_LVEXP = 5191; //英雄魔法经验
  SM_HEROCHANGEFACE = 5192;

  SM_HEROUPDATEITEM = 5193;
  SM_HERODELITEMS = 5194;
  SM_HEROCHANGEITEM = 5195;
  CM_REPAIRFIRDRAGON = 5196; //修理火龙之心
  SM_REPAIRFIRDRAGON_OK = 5197; //修理火龙之心 成功
  SM_REPAIRFIRDRAGON_FAIL = 5198; //修理火龙之心  失败

  SM_EXCHGTAKEON_OK = 65023;
  SM_EXCHGTAKEON_FAIL = 65024;
  SM_MAKEDRUG_FAIL = 65036;
  SM_TEST = 65037;
  SM_TESTHERO = 65038;
  SM_THROW = 65069;
  
  CM_POWERBLOCK = 0;
  SM_NEEDPASSWORD = 8003;
  SM_PASSWORDSTATUS = 20001;

  ET_DIGOUTZOMBI = 1;
  ET_PILESTONES = 3;
  ET_HOLYCURTAIN = 4;
  ET_FIRE = 5;
  ET_SCULPEICE = 6;
{6种烟花}
  ET_FIREFLOWER_1 = 7;
  ET_FIREFLOWER_2 = 8;
  ET_FIREFLOWER_3 = 9;
  ET_FIREFLOWER_4 = 10;
  ET_FIREFLOWER_5 = 11;
  ET_FIREFLOWER_6 = 12;
  ET_FIREFLOWER_7 = 13;
  ET_FIREFLOWER_8 = 14;

  ET_MAGICLOCK = 15;
  ET_MAPMAGIC = 16;
  {5种空间门}
  ET_SPACEDOOR_1 = 17;
  ET_SPACEDOOR_2 = 18;
  ET_SPACEDOOR_3 = 19;
  ET_SPACEDOOR_4 = 20;
  ET_SPACEDOOR_5 = 21;
  ET_SPACEDOOR_6 = 22;
  //商铺相关
  CM_OPENSHOP = 9000;//打开
  CM_BUYSHOPITEM = 9002;//购买
  SM_BUYSHOPITEM_SUCCESS = 9003;
  SM_BUYSHOPITEM_FAIL = 9004;
  SM_SENGSHOPITEMS = 9001; // SERIES 7 每页的数量    wParam 总页数
  //==============================================================================
  CM_QUERYUSERLEVELSORT = 3500; //用户等级排行
  RM_QUERYUSERLEVELSORT = 35000;
  SM_QUERYUSERLEVELSORT = 2500;

  //============================寄售物品====================================
  CM_SENDSELLOFFGOODSLIST = 20008; //查询寄售物品
  CM_SENDSEARCHSELLITEM = 20012; //指定物品名查询寄售物品
  CM_SENDGETSELLITEMGOLD = 20013; //指定物品名查询寄售物品
  RM_SENDSELLOFFGOODSLIST = 21008;
  SM_SENDSELLOFFGOODSLIST = 20008;
  RM_SENDUSERSELLOFFITEM = 21005;
  SM_SENDUSERSELLOFFITEM = 20005; //寄售物品
  RM_SENDSELLOFFITEMLIST = 22009; //查询得到的寄售物品
  CM_SENDSELLOFFITEMLIST = 20009; //查询得到的寄售物品
  RM_SENDBUYSELLOFFITEM_OK = 21010; //购买寄售物品成功
  SM_SENDBUYSELLOFFITEM_OK = 20010; //购买寄售物品成功
  RM_SENDBUYSELLOFFITEM_FAIL = 21011; //购买寄售物品失败
  SM_SENDBUYSELLOFFITEM_FAIL = 20011; //购买寄售物品失败
  RM_SENDBUYSELLOFFITEM = 41005; //购买选择寄售物品
  CM_SENDBUYSELLOFFITEM = 4005; //购买选择寄售物品
  RM_SENDQUERYSELLOFFITEM = 41006; //查询选择寄售物品
  CM_SENDQUERYSELLOFFITEM = 4006; //查询选择寄售物品
  RM_SENDSELLOFFITEM = 41004; //接受寄售物品
  CM_SENDSELLOFFITEM = 4004; //接受寄售物品
  RM_SENDUSERSELLOFFITEM_FAIL = 2007; //R = -3  寄售物品失败
  RM_SENDUSERSELLOFFITEM_OK = 2006; //寄售物品成功
  SM_SENDUSERSELLOFFITEM_FAIL = 20007; //R = -3  寄售物品失败
  SM_SENDUSERSELLOFFITEM_OK = 20006; //寄售物品成功



  SM_SERVERCONFIG = 20002;
  SM_GETREGINFO = 20003;

  RM_SENDSERVERCONFIG = 30011;
  RM_GETSELBOXITEMNUM = 30012;
  SM_USERCASTLE = 5100; //沙行会信息


  SM_SHOWITEMBOX = 5061;
  CM_OPENITEMBOX = 5062;
  SM_OPENITEMBOX_OK = 5063;
  SM_OPENITEMBOX_FAIL = 5064;
  CM_GETSELBOXITEMNUM = 5065;
  SM_GETSELBOXITEMNUM = 5066;
  CM_GETSELBOXITEM = 5067;

  RM_OPENBOOK = 30013;
  SM_OPENBOOK = 5068;
  RM_OPENITEMBOX = 30014;

  CM_SENDCHANGEITEM = 5069;
  SM_SENDCHANGEITEM_FAIL = 5070;
  SM_SENDCHANGEITEM_OK = 5071;
  SM_SENDCHANGEITEM = 5072;
  RM_SENDCHANGEITEM = 30015;
  RM_SENDCHANGEITEM_OK = 30016;
  RM_SENDCHANGEITEM_FAIL = 30017;

  CM_SENDUPGRADEITEM = 5073;
  SM_SENDUPGRADEITEM_FAIL = 5074;
  SM_SENDUPGRADEITEM_OK = 5075;

  SM_DUELTRY_FAIL = 4084;
  SM_DUELMENU = 4085;
  SM_DUELCANCEL = 4086;
  SM_DUELADDITEM_OK = 4087;
  SM_DUELADDITEM_FAIL = 4088;
  SM_DUELDELITEM_OK = 4089;
  SM_DUELDELITEM_FAIL = 4090;
  SM_DUELREMOTEADDITEM = 4091;
  SM_DUELREMOTEDELITEM = 4092;
  SM_DUELCHGGOLD_OK = 4093;
  SM_DUELCHGGOLD_FAIL = 4094;
  SM_DUELREMOTECHGGOLD = 4095;
  SM_DUELSUCCESS = 4096;
  CM_GETREGINFO_OK = 4097;

  CM_HEROATTACK = 5097; //英雄挂机
  CM_GETBACKITEMBOX = 5098; //取回宝箱
  SM_GETBACKITEMBOX_OK = 5099; //取回宝箱成功
  SM_GETBACKITEMBOX_FAIL = 5100; //取回宝箱失败


  RM_QUERYBAGITEMS = 5101;
  RM_QUERYHEROBAGITEMS = 5102;

  RM_SAVEITEMLIST = 5103;

  SM_STATE_BUBBLEDEFENCEUP = 5104; //护体神盾
  RM_STATE_BUBBLEDEFENCEUP = 5105; //护体神盾

  CM_GETREGINFO = 5106;
  RM_SENDREGINFO = 5107;

  SM_SENDOPENHOMEPAGE = 5108;
  RM_SENDOPENHOMEPAGE = 5109;

  CM_SENDFINDITEMINFO = 5110;
  SM_SENDFINDITEMINFO_OK = 5111;
  SM_SENDFINDITEMINFO_FAIL = 5112;

  SM_SENDSNOW = 5113;

  SM_SENDSTORE = 5114; //摆摊状态
  CM_STARTSTORE = 5115; //开始摆摊
  CM_STOPSTORE = 5116; //停止摆摊
  CM_QUERYSTORE = 5117; //查询摆摊
  SM_DELSTOREITEM = 5118; //删除摆摊物品
  SM_USERSENDSTOREMSG = 5119; //用户输入的信息
  SM_USERSTOREITEMS = 5120; //用户摆摊物品
  CM_BUYSTOREITEM = 5121; //购买摆摊物品
  SM_SENDBUYSTOREITEM_OK = 5122; //购买成功
  SM_SENDBUYSTOREITEM_FAIL = 5123; //购买失败
  SM_SENDSTARTSTORE_OK = 5124; //摆摊成功
  SM_SENDSTOPSTORE_OK = 5125; //停止摆摊成功

  SM_SENDSTARTSTORE_FAIL = 5126; //摆摊失败

  RM_SENDSTORE = 5126; //摆摊状态

  SM_NEWSTATUS = 5127;

  SM_AUTOGOTOXY = 5128;
  SM_DELAYMESSAGE = 5129;
  SM_DELETEDELAYMESSAGE = 5130;

  SM_CENTERMESSAGE = 5206;
  SM_PLAYSOUND = 5207;
  SM_VIBRATION = 5208;
  SM_OPENBIGDIALOGBOX = 5209;
  SM_CLOSEBIGDIALOGBOX = 5210;

  CM_STARTSERIESPELL = 5211; //开始连击
  CM_STOPSERIESPELL = 5212; //开始连击
  SM_STARTSERIESPELL_OK = 5213; //开始连击
  SM_STARTSERIESPELL_FAIL = 5214; //开始连击
  SM_BLASTHHIT = 5215; //爆击
  CM_QUERYHEROBAGITEMS = 5216; //查询英雄包裹
  SM_SENDCARTINFO = 5217;
  SM_DELCARTINFO = 5218;

  LOGICALMAPUNIT = 40;

  CM_GETBACKPASSWORD = 2010; //密码找回
  SM_GETBACKPASSWD_SUCCESS = 508; //密码找回成功
  SM_GETBACKPASSWD_FAIL = 509; //密码找回失败
  SM_VERSION_FAIL = 1106;

  SM_SENDLOGINKEY = 20142; //网关给客户端或登陆器发送登陆器封包码 20080901
  SM_GATEPASS_FAIL = 20143; //和网关的密码错误
type
 TDefaultMessage = record
    Recog: Integer;
    Ident: Word;
    Param: Word;
    Tag: Word;
    Series: Word;
  end;
  pTDefaultMessage = ^TDefaultMessage;

 TProcessMessage = record
    wIdent: Word;
    wParam: Integer; //Word;
    nParam1: Integer;
    nParam2: Integer;
    nParam3: Integer;
    BaseObject: TObject;
    boLateDelivery: Boolean;
    dwDeliveryTime: LongWord;
    sMsg: string;
  end;
  pTProcessMessage = ^TProcessMessage;

 TMessageBodyW = record //效果
    Param1: Word;
    Param2: Word;
    Tag1: Word;
    Tag2: Word;
  end;

 TMessageBodyWL = record  //效果
    lParam1: Integer;
    lParam2: Integer;
    lTag1: Integer;
    lTag2: Integer;
  end;

function MakeDefaultMsg(wIdent: Word; nRecog: Integer; wParam, wTag, wSeries: Word): TDefaultMessage;

implementation


function MakeDefaultMsg(wIdent: Word; nRecog: Integer; wParam, wTag, wSeries: Word): TDefaultMessage;
begin
  Result.Recog := nRecog;
  Result.Ident := wIdent;
  Result.Param := wParam;
  Result.Tag := wTag;
  Result.Series := wSeries;
end;

end.
